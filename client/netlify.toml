[build]
  # Directory to change to before starting a build
  base = "client/"
  
  # Command to run to build the site
  command = "npm run build"
  
  # Directory that will be deployed to Netlify
  publish = "dist/"

# Redirect all requests to index.html for client-side routing
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# Build environment variables
[build.environment]
  NODE_VERSION = "18.0.0"

# Production environment variables (these MUST be set in Netlify UI)
# 
# IMPORTANT: These variables must be set in Netlify Dashboard BEFORE building:
# 1. Go to Site Settings â†’ Environment Variables
# 2. Add the following variables:
#    - VITE_API_URL = https://your-backend.onrender.com/api (NO trailing slash)
#    - VITE_WEBSOCKET_URL = https://your-backend.onrender.com (NO trailing slash)
#    - VITE_SUPABASE_URL = your-supabase-url
#    - VITE_SUPABASE_ANON_KEY = your-supabase-anon-key
# 3. After setting, trigger a NEW DEPLOY (the build must happen AFTER env vars are set)
#
# Note: Vite bakes env vars into the build at compile time, so you MUST rebuild after setting them

